<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planificador Nutricional Pro</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap');
        :root {
            --primary-color: #005A9C; 
            --secondary-color: #00AEC7; 
            --accent-color: #F37021;
            --text-color: #333; 
            --bg-color: #f4f7f6; 
            --card-bg: #ffffff; 
            --border-color: #e0e6ed;
        }
        body { 
            font-family: 'Roboto', sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-color); 
            margin: 0; 
            padding: 10px; 
        }
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
        }
        header { 
            text-align: center; 
            margin-bottom: 25px; 
        }
        header h1 { 
            color: var(--primary-color); 
            font-weight: 700; 
            font-size: 2em;
        }
        header p { 
            font-size: 1.1em; 
            color: #555; 
            max-width: 600px;
            margin: 0 auto;
        }
        .generator-section, .planner-section { 
            background: var(--card-bg); 
            border-radius: 12px; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.08); 
            padding: 20px; 
            margin-bottom: 25px; 
        }
        h2 { 
            color: var(--primary-color); 
            border-bottom: 2px solid var(--secondary-color); 
            padding-bottom: 10px; 
            margin-top: 0; 
        }
        .controls { 
            display: flex; 
            flex-wrap: wrap; 
            gap: 10px; 
            margin-bottom: 20px; 
        }
        .btn { 
            background-color: var(--secondary-color); 
            color: white; 
            border: none; 
            padding: 12px 20px; 
            border-radius: 25px; 
            cursor: pointer; 
            font-size: 1em; 
            font-weight: bold; 
            transition: all 0.3s ease; 
            flex-grow: 1;
        }
        .btn:hover { 
            background-color: var(--accent-color); 
            transform: translateY(-2px); 
            box-shadow: 0 4px 8px rgba(0,0,0,0.15); 
        }
        .btn-print { background-color: #28a745; }
        .btn-reset { background-color: #dc3545; }
        .btn-shop { background-color: #17a2b8; }
        .btn-auto { background-color: #6f42c1; }
        #options-display { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 20px; 
        }
        .option-card { 
            background-color: #f9f9f9; 
            border: 1px solid var(--border-color); 
            border-left: 5px solid var(--secondary-color); 
            border-radius: 8px; 
            padding: 15px; 
            display: flex; 
            flex-direction: column; 
        }
        .option-card h4 { margin: 0 0 10px 0; color: var(--text-color); }
        .option-card ul { list-style: none; padding: 0; margin: 0 0 15px 0; flex-grow: 1; }
        .option-card li { font-size: 0.95em; margin-bottom: 8px; }
        .option-card .add-btn { align-self: flex-end; background-color: var(--accent-color); color: white; border: none; border-radius: 50%; width: 35px; height: 35px; font-size: 1.5em; font-weight: bold; cursor: pointer; line-height: 35px; text-align: center; }
        .weekly-planner { width: 100%; border-collapse: collapse; }
        .weekly-planner th { background-color: var(--primary-color); color: white; text-align: center; padding: 10px; }
        .weekly-planner td { border: 1px solid var(--border-color); padding: 10px; text-align: left; vertical-align: top; min-height: 100px; cursor: pointer; transition: background-color 0.2s; }
        .weekly-planner td:hover { background-color: #e9f7ff; }
        .weekly-planner td.selected-cell { background-color: #cce7ff; outline: 2px solid var(--primary-color); }
        .weekly-planner .meal-content ul { padding-left: 15px; margin: 0; font-size: 0.9em; }
        .weekly-planner .meal-content li { margin-bottom: 5px; }
        .recommendations { margin-top: 25px; padding-top: 15px; border-top: 2px solid var(--border-color); }
        .recommendations h3 { color: var(--primary-color); }
        .recommendations ul { list-style-type: '‚≠ê'; padding-left: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .recommendations li { margin-bottom: 8px; }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.5); }
        .modal-content { background-color: #fefefe; margin: 5% auto; padding: 20px; border: 1px solid #888; width: 90%; max-width: 600px; border-radius: 10px; }
        .close-btn { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
        #shopping-list-content { display: grid; grid-template-columns: 1fr; gap: 20px; }
        #shopping-list-content h4 { color: var(--primary-color); }
        #shopping-list-content ul { list-style-type: '‚úì '; padding-left: 20px;}
        
        @media (min-width: 600px) {
            .controls { flex-wrap: nowrap; }
            #shopping-list-content { grid-template-columns: 1fr 1fr; }
        }

        @media (max-width: 768px) {
            body { padding: 5px; }
            header h1 { font-size: 1.5em; }
            header p { font-size: 0.9em; }
            .planner-controls { flex-direction: column; }
            .planner-controls > div { display: flex; flex-wrap: wrap; width: 100%; margin-top: 10px; }
            .weekly-planner thead { display: none; }
            .weekly-planner, .weekly-planner tbody, .weekly-planner tr, .weekly-planner td { display: block; width: 100%; }
            .weekly-planner tr { margin-bottom: 15px; border: 1px solid var(--border-color); border-radius: 8px; overflow: hidden; }
            .weekly-planner td { border: none; border-bottom: 1px solid var(--border-color); position: relative; padding-left: 100px; min-height: 60px; }
            .weekly-planner td:last-child { border-bottom: none; }
            .weekly-planner td::before { position: absolute; left: 0; top: 0; bottom: 0; width: 90px; background-color: #f8f9fa; border-right: 1px solid var(--border-color); font-weight: bold; display: flex; align-items: center; justify-content: center; padding: 5px; content: attr(data-label); }
            .recommendations ul { grid-template-columns: 1fr; }
        }
        
        @media print {
            body { padding: 0; font-size: 9pt; } 
            .container { max-width: 100%; box-shadow: none; }
            .generator-section, header, .planner-controls, .modal { display: none; }
            .planner-section { box-shadow: none; padding: 0; }
            .weekly-planner { table-layout: fixed; }
            .weekly-planner th, .weekly-planner td { border: 1px solid #ccc; padding: 4px; }
            .weekly-planner th { background-color: #eee !important; color: #000 !important; -webkit-print-color-adjust: exact; print-color-adjust: exact; font-size: 8pt; }
            .weekly-planner .meal-content ul { font-size: 7.5pt; padding-left: 10px; margin: 0; }
            .weekly-planner .meal-content li { margin-bottom: 2px; }
            .recommendations { margin-top: 10px; page-break-inside: avoid; }
            .recommendations h3 { text-align: center; font-size: 10pt; }
            .recommendations ul { font-size: 8pt; list-style-type: '- '; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Planificador Nutricional Pro</h1>
            <p>Genera men√∫s con porciones exactas, crea tu lista de compras con cantidades y planifica tu semana de forma manual o autom√°tica.</p>
        </header>

        <section class="generator-section">
            <h2>Paso 1: Generar Opciones (Modo Manual)</h2>
            <div class="controls">
                <button class="btn" onclick="generateOptions('desayuno')">üç≥ Desayunos</button>
                <button class="btn" onclick="generateOptions('almuerzo')">üç≤ Almuerzos</button>
                <button class="btn" onclick="generateOptions('algo')">üçé Algo</button>
                <button class="btn" onclick="generateOptions('cena')">ü•ó Cenas</button>
            </div>
            <div id="options-display"></div>
        </section>

        <section class="planner-section">
            <div class="planner-controls" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <h2>Paso 2: Construye tu Semana</h2>
                <div>
                    <button class="btn btn-auto" onclick="generateFullWeek()">ü§ñ Planificaci√≥n R√°pida</button>
                    <button class="btn btn-shop" onclick="showShoppingList()">üõí Lista de Compras</button>
                    <button class="btn btn-print" onclick="window.print()">üñ®Ô∏è Imprimir Plan</button>
                    <button class="btn btn-reset" onclick="resetPlan()">üîÑ Reiniciar</button>
                </div>
            </div>
            <table class="weekly-planner">
                <!-- Table generated by JS -->
            </table>
            <div class="recommendations">
                <h3>‚≠ê Recordatorios y Recomendaciones Generales</h3>
                <ul>
                    <li><strong>No omitas comidas:</strong> Realiza las 5 comidas del d√≠a en los horarios establecidos.</li>
                    <li><strong>Hidrataci√≥n:</strong> Consume entre 6 y 8 vasos de agua al d√≠a. Evita jugos y bebidas azucaradas.</li>
                    <li><strong>M√©todos de cocci√≥n:</strong> Prefiere cocinar al horno, a la plancha, al vapor o sudado. Evita los fritos.</li>
                    <li><strong>Come despacio:</strong> Mastica bien y disfruta cada bocado para mejorar la digesti√≥n y la saciedad.</li>
                    <li><strong>Grasas saludables:</strong> Utiliza aceites como el de oliva o canola y consume aguacate y frutos secos con moderaci√≥n.</li>
                    <li><strong>Evita ultraprocesados:</strong> Limita el consumo de embutidos grasos, paquetes, salsas cremosas y dulces.</li>
                    <li><strong>L√°cteos:</strong> Prefiere opciones bajas en grasa y sin az√∫car a√±adida.</li>
                    <li><strong>Endulzantes:</strong> Si es necesario, utiliza stevia o sucralosa.</li>
                    <li><strong>Condimentos naturales:</strong> Usa hierbas, especias, lim√≥n, ajo y vinagre para dar sabor a tus comidas.</li>
                    <li><strong>Actividad F√≠sica:</strong> Realiza un m√≠nimo de 150 minutos de ejercicio a la semana.</li>
                </ul>
            </div>
        </section>
    </div>

    <div id="shoppingListModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h2>Lista de Compras Semanal</h2>
            <div id="shopping-list-content"></div>
            <br>
            <button class="btn btn-print" onclick="printShoppingList()">Imprimir Lista</button>
        </div>
    </div>

    <script>
        const foodDB = {
            leches: [ { id: "l1", name: "Leche semidescremada", portion: "90ml", ingredients: [{ name: "Leche semidescremada", quantity: 90, unit: "ml" }] } ],
            proteinas: [
                { id: "p1", name: "Huevos revueltos", portion: "2 unidades", ingredients: [{ name: "Huevo", quantity: 2, unit: "unidades" }, { name: "Aceite de Oliva", quantity: 0.25, unit: "cda postre" }] },
                { id: "p2", name: "Queso bajo en grasa", portion: "2 tajadas", ingredients: [{ name: "Queso bajo en grasa", quantity: 2, unit: "tajadas" }] },
                { id: "p4", name: "Jam√≥n de pavo", portion: "4 tajadas", ingredients: [{ name: "Jam√≥n de pavo", quantity: 4, unit: "tajadas" }] }
            ],
            carnes: [
                { id: "c1", name: "Pechuga de pollo", portion: "150-200g", ingredients: [{ name: "Pollo", quantity: 175, unit: "g" }, { name: "Aceite de Oliva", quantity: 0.25, unit: "cda postre" }] },
                { id: "c2", name: "Pescado blanco", portion: "150-200g", ingredients: [{ name: "Pescado blanco", quantity: 175, unit: "g" }, { name: "Aceite de Oliva", quantity: 0.25, unit: "cda postre" }] },
                { id: "c4", name: "At√∫n en agua", portion: "1 lata", ingredients: [{ name: "At√∫n en lata", quantity: 1, unit: "lata" }] }
            ],
            harinas: [
                { id: "h1", name: "Arroz cocido", portion: "6 cdas", ingredients: [{ name: "Arroz", quantity: 0.5, unit: "pocillo crudo" }] },
                { id: "h2", name: "Arepa integral", portion: "1 mediana", ingredients: [{ name: "Arepa integral", quantity: 1, unit: "unidad" }] },
                { id: "h3", name: "Pan integral", portion: "1 tajada", ingredients: [{ name: "Pan integral", quantity: 1, unit: "tajada" }] },
                { id: "h4", name: "Papa", portion: "1 mediana", ingredients: [{ name: "Papa", quantity: 1, unit: "unidad mediana" }] },
                { id: "h5", name: "Galletas integrales", portion: "3 unidades", ingredients: [{ name: "Galletas integrales", quantity: 3, unit: "unidades" }] },
                { id: "h8", name: "Quinoa cocida", portion: "7 cdas", ingredients: [{ name: "Quinoa", quantity: 0.5, unit: "pocillo crudo" }] }
            ],
            verduras: [ { id: "v1", name: "Verduras variadas", ingredients: [{ name: "Mix de Verduras (tomate, lechuga, etc)", quantity: 1, unit: "porci√≥n" }] }],
            frutas: [
                { id: "f1", name: "Manzana", portion: "1 mediana", ingredients: [{ name: "Manzana", quantity: 1, unit: "unidad" }] },
                { id: "f2", name: "Fresas", portion: "12 unidades", ingredients: [{ name: "Fresa", quantity: 12, unit: "unidades" }] }
            ],
            grasas: [
                { id: "g1", name: "Aguacate", portion: "1/4 peq.", ingredients: [{ name: "Aguacate", quantity: 0.25, unit: "unidad" }] },
                { id: "g2", name: "Aceite de oliva", portion: "1 cdta", ingredients: [{ name: "Aceite de Oliva", quantity: 1, unit: "cda postre" }] }
            ]
        };

        const ingredientCategoryMap = {
            'Leche semidescremada': 'L√°cteos y Huevos', 'Huevo': 'L√°cteos y Huevos', 'Queso bajo en grasa': 'L√°cteos y Huevos',
            'Pollo': 'Prote√≠nas', 'Pescado blanco': 'Prote√≠nas', 'At√∫n en lata': 'Prote√≠nas', 'Jam√≥n de pavo': 'Prote√≠nas',
            'Mix de Verduras (tomate, lechuga, etc)': 'Frutas y Verduras',
            'Manzana': 'Frutas y Verduras', 'Fresa': 'Frutas y Verduras', 'Aguacate': 'Frutas y Verduras',
            'Arroz': 'Despensa', 'Arepa integral': 'Despensa', 'Pan integral': 'Despensa', 'Papa': 'Despensa', 'Galletas integrales': 'Despensa', 'Quinoa': 'Despensa', 'Aceite de Oliva': 'Despensa'
        };

        let currentTargetCell = null;

        document.addEventListener('DOMContentLoaded', function() {
            const plannerTable = document.querySelector('.weekly-planner');
            const days = ['Lunes', 'Martes', 'Mi√©rcoles', 'Jueves', 'Viernes', 'S√°bado', 'Domingo'];
            const meals = ['Desayuno', 'Almuerzo', 'Algo', 'Cena'];
            let tableHTML = `<thead><tr><th>Comida</th>`;
            days.forEach(day => tableHTML += `<th>${day}</th>`);
            tableHTML += `</tr></thead><tbody>`;
            meals.forEach(meal => {
                tableHTML += `<tr><td data-label="Comida"><strong>${meal}</strong></td>`;
                days.forEach(day => {
                    tableHTML += `<td id="cell-${day.toLowerCase()}-${meal.toLowerCase()}" data-label="${day}" onclick="selectCell(this)"></td>`;
                });
                tableHTML += `</tr>`;
            });
            tableHTML += `</tbody>`;
            plannerTable.innerHTML = tableHTML;
        });

        function getRandomItem(group) {
            const items = foodDB[group];
            return items[Math.floor(Math.random() * items.length)];
        }
        
        function createSingleMeal(mealType) {
            let ingredients = [];
            let htmlContent = `<ul>`;

            switch (mealType) {
                case 'desayuno':
                    const lecheDes = getRandomItem('leches');
                    const proteinaDes = getRandomItem('proteinas');
                    const harinaDes = getRandomItem('harinas');
                    htmlContent += `<li><b>L√°cteo (0.5):</b> ${lecheDes.name} (${lecheDes.portion})</li>`;
                    htmlContent += `<li><b>Prote√≠na (2):</b> ${proteinaDes.name} (${proteinaDes.portion})</li>`;
                    htmlContent += `<li><b>Harina (1):</b> ${harinaDes.name} (${harinaDes.portion})</li>`;
                    htmlContent += `<li><b>Verdura (0.5):</b> A√±adir al gusto</li>`;
                    ingredients.push(...lecheDes.ingredients, ...proteinaDes.ingredients, ...harinaDes.ingredients, { name: 'Mix de Verduras (tomate, lechuga, etc)', quantity: 0.5, unit: 'porci√≥n' });
                    break;
                case 'almuerzo':
                    const carneAlm = getRandomItem('carnes');
                    const harinaAlm1 = getRandomItem('harinas');
                    let harinaAlm2;
                    do { harinaAlm2 = getRandomItem('harinas'); } while (harinaAlm1.id === harinaAlm2.id);
                    const grasaAlm = getRandomItem('grasas');
                    htmlContent += `<li><b>Carne (1.5):</b> ${carneAlm.name} (${carneAlm.portion})</li>`;
                    htmlContent += `<li><b>Harinas (2):</b> ${harinaAlm1.name} + ${harinaAlm2.name}</li>`;
                    htmlContent += `<li><b>Verduras (1.5):</b> ${getRandomItem('verduras').name} (1.5 pocillos)</li>`;
                    htmlContent += `<li><b>Grasa (1):</b> ${grasaAlm.name} (${grasaAlm.portion})</li>`;
                    ingredients.push(...carneAlm.ingredients, ...harinaAlm1.ingredients, ...harinaAlm2.ingredients, { name: 'Mix de Verduras (tomate, lechuga, etc)', quantity: 1.5, unit: 'porci√≥n' }, ...grasaAlm.ingredients);
                    break;
                case 'algo':
                    const lecheAlgo = getRandomItem('leches');
                    const frutaAlgo = getRandomItem('frutas');
                    htmlContent += `<li><b>L√°cteo (0.5):</b> ${lecheAlgo.name} (${lecheAlgo.portion})</li>`;
                    htmlContent += `<li><b>Fruta (1):</b> ${frutaAlgo.name} (${frutaAlgo.portion})</li>`;
                    ingredients.push(...lecheAlgo.ingredients, ...frutaAlgo.ingredients);
                    break;
                case 'cena':
                    const carneCena = getRandomItem('carnes');
                    const harinaCena = getRandomItem('harinas');
                    const grasaCena = getRandomItem('grasas');
                    htmlContent += `<li><b>Carne (1.5):</b> ${carneCena.name} (${carneCena.portion})</li>`;
                    htmlContent += `<li><b>Harina (1):</b> ${harinaCena.name} (${harinaCena.portion})</li>`;
                    htmlContent += `<li><b>Verduras (1):</b> ${getRandomItem('verduras').name} (1 pocillo)</li>`;
                    htmlContent += `<li><b>Grasa (1):</b> ${grasaCena.name} (${grasaCena.portion})</li>`;
                    ingredients.push(...carneCena.ingredients, ...harinaCena.ingredients, { name: 'Mix de Verduras (tomate, lechuga, etc)', quantity: 1, unit: 'porci√≥n' }, ...grasaCena.ingredients);
                    break;
            }
            htmlContent += `</ul>`;
            return { html: htmlContent, ingredients: JSON.stringify(ingredients) };
        }

        function generateOptions(mealType) {
            const display = document.getElementById('options-display');
            display.innerHTML = '';
            const mealTitle = mealType.charAt(0).toUpperCase() + mealType.slice(1);
            for (let i = 0; i < 3; i++) {
                const mealData = createSingleMeal(mealType);
                const card = document.createElement('div');
                card.className = 'option-card';
                card.innerHTML = `<div class="meal-content" data-ingredients='${mealData.ingredients}'><h4>${mealTitle} Opci√≥n ${i + 1}</h4>${mealData.html}</div><button class="add-btn" onclick="addToPlanner(this)">+</button>`;
                display.appendChild(card);
            }
        }
        
        function generateFullWeek() {
            if (!confirm("¬øDeseas rellenar toda la semana autom√°ticamente? Se borrar√°n las comidas que ya hayas a√±adido.")) return;
            const days = ['lunes', 'martes', 'mi√©rcoles', 'jueves', 'viernes', 's√°bado', 'domingo'];
            const meals = ['desayuno', 'almuerzo', 'algo', 'cena'];
            for (const day of days) {
                for (const meal of meals) {
                    const cell = document.getElementById(`cell-${day}-${meal}`);
                    const mealData = createSingleMeal(meal);
                    cell.innerHTML = `<div class="meal-content" data-ingredients='${mealData.ingredients}'>${mealData.html}</div>`;
                }
            }
        }

        function selectCell(cell) {
            document.querySelectorAll('.selected-cell').forEach(c => c.classList.remove('selected-cell'));
            cell.classList.add('selected-cell');
            currentTargetCell = cell.id;
        }

        function addToPlanner(button) {
            if (!currentTargetCell) {
                alert("Por favor, selecciona primero una casilla en el planificador semanal.");
                return;
            }
            const targetCell = document.getElementById(currentTargetCell);
            const mealContentDiv = button.parentElement.querySelector('.meal-content');
            targetCell.innerHTML = mealContentDiv.outerHTML;
            targetCell.classList.remove('selected-cell');
            currentTargetCell = null;
        }

        function resetPlan() {
            if (confirm("¬øEst√°s seguro de que quieres borrar todo el plan semanal?")) {
                document.querySelectorAll('.weekly-planner td[id]').forEach(cell => cell.innerHTML = '');
            }
        }

        function showShoppingList() {
            const allCells = document.querySelectorAll('.weekly-planner td .meal-content');
            let allIngredients = [];
            allCells.forEach(cell => {
                if (cell.dataset.ingredients) {
                    const ingredients = JSON.parse(cell.dataset.ingredients);
                    allIngredients.push(...ingredients);
                }
            });

            if (allIngredients.length === 0) {
                alert("Tu plan semanal est√° vac√≠o. A√±ade algunas comidas primero.");
                return;
            }

            const aggregated = {};
            allIngredients.forEach(item => {
                if (!aggregated[item.name]) {
                    aggregated[item.name] = { total: 0, unit: item.unit };
                }
                aggregated[item.name].total += item.quantity;
            });
            
            const categorizedList = {};
            Object.keys(aggregated).forEach(name => {
                const category = ingredientCategoryMap[name] || 'Otros';
                if (!categorizedList[category]) categorizedList[category] = [];
                categorizedList[category].push({ name, ...aggregated[name] });
            });

            const listContent = document.getElementById('shopping-list-content');
            listContent.innerHTML = '';
            const categoryOrder = ['Frutas y Verduras', 'Prote√≠nas', 'L√°cteos y Huevos', 'Despensa', 'Otros'];
            
            categoryOrder.forEach(category => {
                if (categorizedList[category] && categorizedList[category].length > 0) {
                    let categoryHtml = `<div><h4>${category}</h4><ul>`;
                    categorizedList[category].sort((a,b) => a.name.localeCompare(b.name)).forEach(item => {
                        categoryHtml += `<li>${item.name}: <strong>${Math.ceil(item.total * 100) / 100} ${item.unit}</strong></li>`;
                    });
                    categoryHtml += `</ul></div>`;
                    listContent.innerHTML += categoryHtml;
                }
            });

            document.getElementById('shoppingListModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('shoppingListModal').style.display = 'none';
        }

        function printShoppingList() {
            const modalContent = document.getElementById('shoppingListModal').innerHTML;
            const printWindow = window.open('', '', 'height=600,width=800');
            printWindow.document.write('<html><head><title>Lista de Compras</title>');
            printWindow.document.write('<style>body { font-family: sans-serif; } #shopping-list-content { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; } h2 { text-align: center; } h4 { border-bottom: 1px solid #ccc; padding-bottom: 5px;} ul { list-style-type: "‚òê "; padding-left: 20px;}</style>');
            printWindow.document.write('</head><body>');
            printWindow.document.write(modalContent);
            printWindow.document.querySelector('.close-btn').style.display = 'none';
            printWindow.document.querySelector('.btn-print').style.display = 'none';
            printWindow.document.write('</body></html>');
            printWindow.document.close();
            printWindow.focus();
            printWindow.print();
            printWindow.close();
        }

        window.onclick = function(event) {
            const modal = document.getElementById('shoppingListModal');
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    </script>
</body>
</html>
